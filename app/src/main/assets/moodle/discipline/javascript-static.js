function popupchecker(a){var b=window.open("itestwin.html","","width=1,height=1,left=0,top=0,scrollbars=no");null==b?alert(a):b.close()}function checkall(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)"checkbox"==a[b].type&&(a[b].checked=!0)}function checknone(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)"checkbox"==a[b].type&&(a[b].checked=!1)}function lockoptions(formid,master,subitems){var form=document.forms[formid];if(eval("form."+master+".checked"))for(i=0;i<subitems.length;i++)unlockoption(form,subitems[i]);else for(i=0;i<subitems.length;i++)lockoption(form,subitems[i]);return!0}function lockoption(form,item){eval("form."+item+".disabled=true"),form.elements["h"+item]&&eval("form.h"+item+".value=1")}function unlockoption(form,item){eval("form."+item+".disabled=false"),form.elements["h"+item]&&eval("form.h"+item+".value=0")}function get_form_element_value(a,b){var c=a[b];if(!c)return null;if(c.tagName)return c.value;for(var d=0;d<c.length;d++){var e=c[d];if(e.checked)return e.value}return null}function set_form_element_disabled(a,b,c){var d=a[b];if(d){d.tagName&&(d.disabled=c);for(var e=0;e<d.length;e++){var f=d[e];f.disabled=c}}}function set_form_element_hidden(a,b,c){var d=a[b];if(d){if(d.tagName){var e=findParentNode(d,"DIV","fitem",!1);null!=e&&(e.style.display=c?"none":"",e.style.visibility=c?"hidden":"")}for(var f=0;f<d.length;f++){var e=findParentNode(d[f],"DIV","fitem",!1);null!=e&&(e.style.display=c?"none":"",e.style.visibility=c?"hidden":"")}}}function lockoptionsall(formid){var form=document.forms[formid],dependons=eval(formid+"items"),tolock=[],tohide=[];for(var dependon in dependons)if(dependons.propertyIsEnumerable(dependon)&&form[dependon])for(var condition in dependons[dependon])for(var value in dependons[dependon][condition]){var lock,hide=!1;switch(condition){case"notchecked":lock=!form[dependon].checked;break;case"checked":lock=form[dependon].checked;break;case"noitemselected":lock=form[dependon].selectedIndex==-1;break;case"eq":lock=get_form_element_value(form,dependon)==value;break;case"hide":hide=!0;break;default:lock=get_form_element_value(form,dependon)!=value}for(var ei in dependons[dependon][condition][value]){var eltolock=dependons[dependon][condition][value][ei];hide&&(tohide[eltolock]=!0),null!=tolock[eltolock]?tolock[eltolock]=lock||tolock[eltolock]:tolock[eltolock]=lock}}for(var el in tolock)tolock.propertyIsEnumerable(el)&&(set_form_element_disabled(form,el,tolock[el]),tohide.propertyIsEnumerable(el)&&set_form_element_hidden(form,el,tolock[el]));return!0}function lockoptionsallsetup(formid){var form=document.forms[formid],dependons=eval(formid+"items");for(var dependon in dependons)if(dependons.propertyIsEnumerable(dependon)){var masters=form[dependon];if(masters){masters.tagName&&(masters=[masters]);for(var j=0;j<masters.length;j++)master=masters[j],master.formid=formid,master.onclick=function(){return lockoptionsall(this.formid)},master.onblur=function(){return lockoptionsall(this.formid)},master.onchange=function(){return lockoptionsall(this.formid)}}}for(var i=0;i<form.elements.length;i++){var formelement=form.elements[i];"reset"==formelement.type&&(formelement.formid=formid,formelement.onclick=function(){return this.form.reset(),lockoptionsall(this.formid)},formelement.onblur=function(){return this.form.reset(),lockoptionsall(this.formid)},formelement.onchange=function(){return this.form.reset(),lockoptionsall(this.formid)})}return lockoptionsall(formid)}function submitFormById(a){var b=document.getElementById(a);return!!b&&("form"==b.tagName.toLowerCase()&&(!b.onsubmit||b.onsubmit()?b.submit():void 0))}function select_all_in(a,b,c){var d=document.getElementsByTagName("input");d=filterByParent(d,function(d){return findParentNode(d,a,b,c)});for(var e=0;e<d.length;++e)"checkbox"!=d[e].type&&"radio"!=d[e].type||(d[e].checked="checked")}function deselect_all_in(a,b,c){var d=document.getElementsByTagName("INPUT");d=filterByParent(d,function(d){return findParentNode(d,a,b,c)});for(var e=0;e<d.length;++e)"checkbox"!=d[e].type&&"radio"!=d[e].type||(d[e].checked="")}function confirm_if(a,b){return!a||confirm(b)}function findParentNode(a,b,c,d){for(;"BODY"!=a.nodeName.toUpperCase()&&(b&&a.nodeName.toUpperCase()!=b||c&&a.className.indexOf(c)==-1||d&&a.id!=d);)a=a.parentNode;return a}function findChildNodes(a,b,c,d,e){for(var f=new Array,g=0;g<a.childNodes.length;g++){var h=!1,i=a.childNodes[g];if(1==i.nodeType&&c&&"string"==typeof i.className){var j=i.className.split(/\s+/);for(var k in j)if(j[k]==c){h=!0;break}}1==i.nodeType&&(f=b&&i.nodeName!=b||c&&!h||d&&i.id!=d||e&&i.name!=e?f.concat(findChildNodes(i,b,c,d,e)):f.concat(i))}return f}function elementShowAdvanced(a,b){for(var c in a)element=a[c],element.className=element.className.replace(new RegExp(" ?hide"),""),b||(element.className+=" hide")}function showAdvancedInit(a,b,c,d,e){var f=document.createElement("input");f.type="button",f.value=c,f.name=b,f.moodle={hideLabel:d,showLabel:e},YAHOO.util.Event.addListener(f,"click",showAdvancedOnClick),el=document.getElementById(a),el.parentNode.insertBefore(f,el)}function showAdvancedOnClick(a){var b=a.target?a.target:a.srcElement,c=findChildNodes(b.form,null,"advanced"),d="";"0"==b.form.elements.mform_showadvanced_last.value||""==b.form.elements.mform_showadvanced_last.value?(elementShowAdvanced(c,!0),d=b.moodle.hideLabel,b.form.elements.mform_showadvanced_last.value="1"):(elementShowAdvanced(c,!1),d=b.moodle.showLabel,b.form.elements.mform_showadvanced_last.value="0");for(var e=b.form.elements,f=0;f<e.length;f++)e[f]&&e[f].name&&"mform_showadvanced"==e[f].name&&(e[f].value=d);return!1}function unmaskPassword(a){var b=document.getElementById(a),c=document.getElementById(a+"unmask");try{if(c.checked)var d=document.createElement('<input type="text" name="'+b.name+'">');else var d=document.createElement('<input type="password" name="'+b.name+'">');d.attributes.class.nodeValue=b.attributes.class.nodeValue}catch(a){var d=document.createElement("input");d.setAttribute("name",b.name),c.checked?d.setAttribute("type","text"):d.setAttribute("type","password"),d.setAttribute("class",b.getAttribute("class"))}d.id=b.id,d.size=b.size,d.onblur=b.onblur,d.onchange=b.onchange,d.value=b.value,b.parentNode.replaceChild(d,b)}function elementToggleHide(a,b,c,d,e){if(c)var f=c(a);else{var f=a;a=document.getElementById("togglehide_"+f.id)}if(f.className.indexOf("hidden")==-1){f.className+=" hidden",a.src&&(a.src=a.src.replace("switch_minus","switch_plus"),a.alt=d,a.title=d);var g=0}else{f.className=f.className.replace(new RegExp(" ?hidden"),""),a.src&&(a.src=a.src.replace("switch_plus","switch_minus"),a.alt=e,a.title=e);var g=1}1==b&&new cookie("hide:"+f.id,1,g?-1:356,"/").set()}function elementCookieHide(a,b,c){var d=document.getElementById(a),e=new cookie("hide:"+a).read();null!=e&&elementToggleHide(d,!1,null,b,c)}function filterByParent(a,b){for(var c=[],d=0;d<a.length;++d){var e=b(a[d]);"BODY"!=e.nodeName&&c.push(a[d])}return c}function fix_column_widths(){var a=navigator.userAgent.toLowerCase();a.indexOf("msie")!=-1&&a.indexOf("opera")==-1&&(fix_column_width("left-column"),fix_column_width("right-column"))}function fix_column_width(a){if(column=document.getElementById(a)){if(!column.offsetWidth)return void setTimeout("fix_column_width('"+a+"')",20);var b=0,c=column.childNodes;for(i=0;i<c.length;++i)c[i].className.indexOf("sideblock")!=-1&&b<c[i].offsetWidth&&(b=c[i].offsetWidth);for(i=0;i<c.length;++i)c[i].className.indexOf("sideblock")!=-1&&(c[i].style.width=b+"px")}}function insertAtCursor(a,b){if(document.selection)a.focus(),sel=document.selection.createRange(),sel.text=b;else if(a.selectionStart||"0"==a.selectionStart){var c=a.selectionStart,d=a.selectionEnd;a.value=a.value.substring(0,c)+b+a.value.substring(d,a.value.length)}else a.value+=b}function addonload(a){var b=window.onload;window.onload=function(){b&&b(),a()}}
